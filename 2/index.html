<!DOCTYPE html>
<html>
  <head>
  <meta charset='utf-8' />
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="" />

    <link data-noprefix href='//fonts.googleapis.com/css?family=Roboto:700,400italic,100,400,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css' />
    <link data-noprefix href='//raw.github.com/daneden/animate.css/master/animate.css' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" type="text/css" href="http://defav.lt/css/root.css" media="screen" />
    <script type="text/javascript" src="http://defav.lt/js/prefixfree.min.js"></script>

    <link href="//yandex.st/highlightjs/8.0/styles/tomorrow-night-bright.min.css" rel="stylesheet" type="text/css" />

    <title>Structuring a jekyll theme</title>
  </head>
  
  	<body class="id_2">
  
  
 
 


<header>
	<nav>
		<ul>
			<li><a href="http://defav.lt">Home</a></li
			><li><a href="http://defav.lt/contact/">Contact</a></li>
		</ul>
	</nav>
</header>


	<article>
	<p><header></p>

<h1>
    <a href="#">Structuring a jekyll theme</a>
</h1>




<p>How to plan for and use a structure for your theme</p>


<p><nav>
    <ol>
        <li><a href="#Index-file">Index file</a></li>
        <li><a href="#Posts">Posts</a></li>
        <li><a href="#Conclusion">Conclusion</a></li>
    </ol>
</nav>
</header></p>

                            <h2  id="Index-file">
                                <a href="#Index-file">Index file</a>
                                <a href="#top"> *</a>
                            </h2>


<p>This is the starting point of your site or blog. There's not much to talk about for this page. The page itself shouldn't contain much aside from some <a href="http://yaml.org/">YAML</a> front matter.</p>

<pre><code>---
title: Home
layout: index
---
</code></pre>

<p>Everything that you see on, for example my <a href="/">landing page</a> isn't generated in <code>\index.html</code>. Rather, it's generated in <code>_layouts\index.html</code>. This separation of content
from layouts is very similar to what you might see in a <abbr title="Model View Controller">MVC</abbr>-oriented framework.</p>

<p>Additionally, actual content isn't output in our layout either. The layout only determines in which, and in what order, layouts should be included.</p>

<pre><code>{% include header.html %}
    {% include index.html %}
{% include footer.html %}
</code></pre>

<p>There's 3 includes to take note of here:</p>

<ol>
<li><p><strong>header.html</strong><br />
Contains the header element and everything associated with this. Also starts the <code>html</code> and <code>body</code> elements.</p></li>
<li><p><strong>footer.html</strong><br />
Pulls in any javascript and finishes the <code>html</code> and <code>body</code> elements.</p></li>
<li><p><strong>index.html</strong> <br />
Generates and output content.</p></li>
</ol>


<p>The <code>index</code> include isn't very big and should be more or less self-explanatory</p>

<pre><code>{% assign link = true %}

{% for post in site.posts %}
    &lt;article&gt;
        {% include preview.html %}
    &lt;/article&gt;
{% endfor %}
</code></pre>

<p>All it does is enumerate the last 10 posts on the site and includes <code>preview.html</code>, which expects a variable named <code>post</code> to be set and assigned a post object.
<code>preview.html</code> is very simple:</p>

<pre><code>&lt;h1&gt;
    {% if link %}
        &lt;a href="{{ post.url }}" title="{{ post.title }}"&gt;{{ post.title }}&lt;/a&gt;
    {% else %}
        {{ post.title }}
    {% endif %}
&lt;/h1&gt;

&lt;p&gt;
    {{ post.summary }}
&lt;/p&gt;
</code></pre>

<p>And finally, this is where things are output and actually rendered. Setting a variable named <code>link</code> to anything but <code>false</code> or <code>null</code> will render the <code>h1</code>-element as a link.</p>

<p>The reason why I pulled out <code>preview.html</code> instead of writing the markup directly in the post-loop in (the include) <code>index.html</code> is because I want my theme to be as modular and
atomic as possible.</p>

<p>Anytime I want a preview (wherever that might be) I can just assign a variable named <code>post</code> with the correct data and <code>{% include preview.html %}</code> and it should work <abbr title="Out Of the Box">OOB</abbr>.</p>

                            <h2  id="Posts">
                                <a href="#Posts">Posts</a>
                                <a href="#top"> *</a>
                            </h2>


<p>The structure and flow for rendering of single post pages isn't much different.
Probably the biggest difference is the entry point to the layout. In any post I want rendered with the <code>post</code> layout, I use</p>

<pre><code>---
...
layout: post
---
</code></pre>

<p>Now, in the layout <code>post.html</code> there's 3 files included</p>

<pre><code>{% include header.html %}
    {% include post.html %}
{% include footer.html %}
</code></pre>

<p>The first and last are included in every layout for obvious reasons, the middle one though is different:</p>

<pre><code>&lt;article&gt;

    {% assign post = page %}
    {% include preview.html %}

    {{ content }}
&lt;/article&gt;
</code></pre>

<p>Here you see why I pulled out <code>preview.html</code> as a separate module.
Since <code>preview.html</code> requires a <code>post</code> variable assigned a post object, we assign <code>post</code> to <code>page</code> (which is the current post object).
Finally, since we don't assign anything to <code>link</code>, we won't get our <code>h1</code> as a link.</p>

                            <h2  id="Conclusion">
                                <a href="#Conclusion">Conclusion</a>
                                <a href="#top"> *</a>
                            </h2>


<p>This work, together with learning the syntax of liquid, took me about a day in effective time. As far as I'm concerned, that's very, <em>very</em> little time for setting up a whole site, even a static one.</p>

<p><strong><em>This post is one in a series of posts on building a site with <a href="http://yaml.org/">Jekyll</a>. These are the articles I have written so far, in no particular order:</em></strong></p>

<ul>

    
        <li><a href="/4/" title="Building a plugin for Jekyll">Building a plugin for Jekyll</a></li>    
    

    

    
        <li><a href="/2/" title="Structuring a jekyll theme">Structuring a jekyll theme</a></li>    
    

    
        <li><a href="/1/" title="Pagination outside index with Jekyll">Pagination outside index with Jekyll</a></li>    
    

</ul>




</article>


	<footer>
		<section class="preview">
			


	
	

	

	
	

	

	
	

	
		

<h1>
	
		<a title="Solving the recruitment test from Multisoft Solutions" href="/3/">
			<span class="next-up">Next up...</span>
			<span class="title">Recruitment test</span>
			<span class="summary">Solving the recruitment test from Multisoft Solutions</span>
		</a>
	
</h1>

		<section>

		
	</footer>

      <script type="text/javascript" src="//yandex.st/highlightjs/8.0/highlight.min.js"></script>
      <script type="text/javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
      <script type="text/javascript" src="http://defav.lt/js/root.js"></script>

      <script type="text/javascript">
        if (hljs !== undefined)
            hljs.initHighlightingOnLoad();
      </script>
  </body>
</html>
